<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width initial-scale=1.0">
        <title>google map location</title>
    </head>
    <body>
        <h2>This is a map API demo</h2>
        <hr>
        <br>
        <p id="demo"> Click me! You will get the current </p>
        <button onclick="getLocation()" >Click me</button>
        <div id="mapholder"></div>
        <script src="https://maps.google.com/maps/api/js?sensor=false"></script>
        <script>
            let x=document.getElementById("demo");
            function getLocation(){
                if(navigator.geolocation){
                    navigator.geolocation.getCurrentPosition(showPosition,showError);
                }
                else{

                    x.innerHTML="The browser don't suppot the request of location";
                }
            }

            function showPosition(position)
            {
                lat=position.coords.latitude;
                lon=position.coords.longitude;
                latlon=new google.maps.LatLng(lat, lon)
                mapholder=document.getElementById('mapholder')
                mapholder.style.height='250px';
                mapholder.style.width='500px';

                let myOptions={
                    center:latlon,zoom:14,
                    mapTypeId:google.maps.MapTypeId.ROADMAP,
                    mapTypeControl:false,
                    navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
                };
                let map= new google.maps.Map(document.getElementById("mapholder"),myOptions);
                let marker=new google.maps.Marker({position:latlon,map:map,title:"You are here!"});
            }

            function showError(error){
                switch(error.code){
                    case error.PERMISSION_DENIED:
                        x.innerHTML="user denied"
                        break;
                    case error.POSITON_UNAVAILABLE:
                        x.innerHTML="The position can not use"
                        brake;
                    case error.TIMEOUT:
                        x.innerHTML="Time Out"
                        break;
                    case error.UNKNOWN_ERROR:
                        x.innerHTML="UNKNOW-ERROR"
                        break;

                }
            }
        </script>
    </body>
</html>